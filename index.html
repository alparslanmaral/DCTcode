<!DOCTYPE html>
<html lang="tr" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <title>DCT Code</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />

  <!-- Monaco Editor CDN (yalnÄ±zca public internet gerekli) -->
  <script>
    window.MonacoEnvironment = {
      getWorkerUrl: function (_, label) {
        const base = "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.43.0/min/";
        const workers = {
          'json': 'vs/language/json/json.worker.min.js',
          'css': 'vs/language/css/css.worker.min.js',
          'html': 'vs/language/html/html.worker.min.js',
          'typescript': 'vs/language/typescript/ts.worker.min.js',
          'javascript': 'vs/language/typescript/ts.worker.min.js',
          'default': 'vs/base/worker/workerMain.min.js'
        };
        const worker = workers[label] || workers['default'];
        return URL.createObjectURL(new Blob([`
          self.MonacoEnvironment={baseUrl:'${base}'};
          importScripts('${base}${worker}');
        `], { type: 'text/javascript' }));
      }
    };
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.43.0/min/vs/loader.min.js" integrity="sha512-+QY+Hds1I4pVEbfx21qI05Q5HXZPxJ09FTofFcR0SPSchgaGw+ijhTkpBF6r8/37qBngCQtgM1pPS4vSgPRNYA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
  <div id="app">
    <!-- Activity Bar -->
    <div id="activity-bar">
      <div class="activity-item active" data-view="explorer" title="Explorer">ğŸ—‚</div>
      <div class="activity-item" data-view="slots" title="Save Slots">ğŸ’¾</div>
      <div class="activity-item" data-view="github" title="GitHub Clone">îœ‰</div>
      <div class="spacer"></div>
      <div class="activity-item" data-view="about" title="HakkÄ±nda">â„¹ï¸</div>
    </div>

    <!-- Side Bar -->
    <div id="side-bar">
      <!-- Explorer -->
      <div class="panel" id="panel-explorer">
        <div class="panel-header">
          <span>EXPLORER</span>
          <div class="explorer-actions">
            <button id="btn-new-file" title="Yeni Dosya">+F</button>
            <button id="btn-new-folder" title="Yeni KlasÃ¶r">+D</button>
            <button id="btn-export-zip" title="ZIP olarak indir">ZIP</button>
          </div>
        </div>
        <div id="project-name-wrapper">
          <input id="project-name" placeholder="Proje AdÄ±" />
        </div>
        <ul id="file-tree" class="tree-root"></ul>
      </div>

      <!-- Slots -->
      <div class="panel hidden" id="panel-slots">
        <div class="panel-header"><span>SAVE SLOTS (5)</span></div>
        <div id="slots-list"></div>
        <div class="slot-hint">
          Mevcut projeni seÃ§tiÄŸin slot'a kaydedebilir veya slot'tan yÃ¼kleyebilirsin.
        </div>
      </div>

      <!-- GitHub -->
      <div class="panel hidden" id="panel-github">
        <div class="panel-header"><span>GITHUB CLONE</span></div>
        <div class="github-section">
          <label>Repo URL:
            <input id="github-url" placeholder="https://github.com/kullanici/repo veya .../tree/branch" />
          </label>
            <button id="btn-clone">Clone</button>
          <div class="small-note">
            Public repo desteklenir. VarsayÄ±lan branch main/master aranÄ±r.
          </div>
          <div id="clone-progress"></div>
        </div>
      </div>

      <!-- About -->
      <div class="panel hidden" id="panel-about">
        <div class="panel-header"><span>HAKKINDA</span></div>
        <div class="about">
          <p>DCT Code - Hafif web tabanlÄ± VSCode benzeri editÃ¶r.</p>
          <ul>
            <li>LocalStorage kalÄ±cÄ±lÄ±k</li>
            <li>5 Save Slot</li>
            <li>GitHub public repo clone</li>
            <li>ZIP dÄ±ÅŸa aktarÄ±m</li>
            <li>Light / Dark tema</li>
            <li>HTML / CSS / JS temel lint</li>
          </ul>
          <p>GeliÅŸtirmeye aÃ§Ä±k: terminal, arama, git push vb.</p>
        </div>
      </div>
    </div>

    <!-- Main / Editor -->
    <div id="main">
      <div id="tabs-bar"></div>
      <div id="editor-container">
        <!-- Monaco editÃ¶r burada render edilecek -->
        <div id="editor" class="editor-monaco"></div>
      </div>
    </div>
  </div>

  <!-- Context Menus -->
  <ul id="file-context" class="context-menu hidden">
    <li data-action="new-file">Yeni Dosya</li>
    <li data-action="new-folder">Yeni KlasÃ¶r</li>
    <li data-action="rename">Yeniden AdlandÄ±r</li>
    <li data-action="delete" class="danger">Sil</li>
  </ul>

  <ul id="tab-context" class="context-menu hidden">
    <li data-action="close">Sekmeyi Kapat</li>
    <li data-action="close-others">DiÄŸerlerini Kapat</li>
    <li data-action="close-all">Hepsini Kapat</li>
  </ul>

  <!-- Status Bar -->
  <div id="status-bar">
    <div id="status-left">
      <span id="status-project">No Project</span>
      <span id="status-file">No File</span>
    </div>
    <div id="status-right">
      <button id="theme-toggle" title="Tema DeÄŸiÅŸtir (Light/Dark)">ğŸŒ™</button>
      <span id="status-changed">Saved</span>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
